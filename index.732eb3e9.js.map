{"mappings":"YAAkBA,SAASC,cAAc,UAEtBD,SAASC,cAAc,WAE1BD,SAASC,cAAc,aCJvC,IAMMC,EAAYF,SAASC,cAAc,UACzCC,EAAUC,YAAc,GACxBD,EAAUE,MAAMC,QAAU,OAC1B,IAAMC,EAAaN,SAASC,cAAc,WAEpCM,EAAUP,SAASC,cAAc,aACjCO,EAASR,SAASC,cAAc,iBACtCO,EAAOC,iBAAiB,SAAUC,GAClCF,EAAOJ,MAAMO,WAAa,SAE1B,IAAIC,EAAe,GDLRC,MALK,sCAKQ,CAACC,QAAS,CAC9B,YAJY,2EAMPC,MAAK,SAACC,GACP,IAAKA,EAASC,GACd,MAAM,IAAIC,MAAMF,EAASG,QAEzB,OAAOH,EAASI,M,ICCnBL,MAAK,SAACM,GACHA,EAAOA,EAAKC,QAAO,SAAAC,G,IAAOC,EAAA,OAAkB,OAAT,QAATA,EAAAD,EAAIE,aAAK,IAATD,OAAA,EAAAA,EAAWE,I,IACrCd,EAAeS,EAEf,IAAK,IAAIM,EAAI,EAAGA,EAAIf,EAAagB,OAAQD,IAAK,CAC1C,IAAME,EAAQjB,EAAae,GACvBG,EAAS9B,SAAS+B,cAAc,UAE/BF,EAAMJ,QACXK,EAAOE,MAAQH,EAAMI,GACrBH,EAAOI,UAAY,GAAcC,OAAXN,EAAMO,MAC5B5B,EAAO6B,YAAYP,G,KAG1BQ,OAAM,SAACC,G,OAAUC,QAAQC,IAAIF,E,IAIlC,SAAS7B,IACSF,EAAOwB,MAIrB,OAAOnB,MAFK,kEAEM,CACdC,QAAS,CACL,YATK,2EAYRC,MAAK,SAACC,GACH,IAAKA,EAASC,GACV,MAAM,IAAIC,MAAMF,EAASG,QAE7B,OAAOH,EAASI,M,IAEnBL,MAAK,SAACM,GACH,IAAIY,EAAKzB,EAAOkC,cAGhB,OAFO9B,EAAaqB,GAOhC,WACI,IAAIA,EAAKzB,EAAOkC,cAEZ9B,EAAagB,OAAS,IACtBrB,EAAQ2B,UAAY,IAExB,IAAMT,EAAQzB,SAAS+B,cAAc,OAC/BY,EAAQ3C,SAAS+B,cAAc,MAC/Ba,EAAc5C,SAAS+B,cAAc,KACrCc,EAAc7C,SAAS+B,cAAc,MAE3CN,EAAMrB,MAAMC,QAAU,QACtBoB,EAAMqB,IAAM,GAA8BX,OAA3BvB,EAAaqB,GAAIR,MAAMC,KACtCD,EAAMrB,MAAM2C,MAAQ,GAAOZ,OAAJ,IAAI,MAC3BV,EAAMrB,MAAM4C,OAAS,GAAOb,OAAJ,IAAI,MAC5BV,EAAMrB,MAAM6C,eAAiB,QAE7BN,EAAMxC,YAAc,GAAyBgC,OAAtBvB,EAAaqB,GAAIG,MACxCO,EAAMvC,MAAM8C,SAAW,GAAMf,OAAH,GAAG,MAC7BQ,EAAMvC,MAAM+C,aAAe,EAC3BR,EAAMvC,MAAMgD,gBAAkB,qBAE9BR,EAAYzC,YAAc,GAAgCgC,OAA7BvB,EAAaqB,GAAIW,aAC9CA,EAAYxC,MAAM8C,SAAW,GAAMf,OAAH,GAAG,MAEnCU,EAAY1C,YAAc,gBAA6CgC,OAA7BvB,EAAaqB,GAAIY,aAC3DA,EAAYzC,MAAM8C,SAAW,GAAMf,OAAH,GAAG,MACnCU,EAAYzC,MAAMiD,UAAY,EAE9B9C,EAAQ+C,OAAO7B,EAAOkB,EAAOC,EAAaC,E,CAlC3BU,E,IAEVjB,OAAM,SAACC,G,OA8CZjC,EAAWF,MAAMC,QAAU,OAC3BC,EAAWH,YAAc,GACzBD,EAAUC,YAAc,2DACxBD,EAAUE,MAAMC,QAAU,Q,IAZ1BG,EAAOJ,MAAMO,WAAa,UAE1BD,G","sources":["src/cat-api.js","src/app.js"],"sourcesContent":["const errorItem = document.querySelector('.error');\n// errorItem.hidden = true;\nconst loaderItem = document.querySelector('.loader');\n// loaderItem.hidden = false;\nconst catInfo = document.querySelector('.cat-info')\n\nconst breeds = `https://api.thecatapi.com/v1/breeds`;\n// const breed = 'https://api.thecatapi.com/v1/images/search?breed_ids={breed.id}'\nconst api_key = \"live_CIw3lZRkcpgh759C9YBXivIvAETipzFqRyXtOHa4sXukf5xIGdNG9JZOQ72DPlKH\"\n\nexport function fetchBreeds() {\n    return fetch(breeds,{headers: {\n    'x-api-key': api_key\n    }})\n        .then((response) => {\n        if (!response.ok) {\n        throw new Error(response.status);\n        }\n        return response.json();\n        })\n};\n\n\n\n\n\n\n\n\n// https://api.thecatapi.com/v1/images/search?breed_ids={breed.id}\n\n// ?${searchParams}\n        // \"breeds\": \n\n        //         \"id\": \"acur\",\n        //         \"name\": \"American Curl\",\n                \n        //         \"temperament\": \"Affectionate, Curious, Intelligent, Interactive, Lively, Playful, Social\",\n             \n        //         \"description\": \"Distinguished by truly unique ears that curl back in a graceful arc, offering an alert, perky, happily surprised expression, they cause people to break out into a big smile when viewing their first Curl. Curls are very people-oriented, faithful, affectionate soulmates, adjusting remarkably fast to other pets, children, and new situations.\",\n\n        // \"id\": \"ji-5E0VwY\",\n        // \"url\": \"https://cdn2.thecatapi.com/images/ji-5E0VwY.jpg\",\n\n\n// +++++++++++++\n// fetch(url,{headers: {\n//     'x-api-key': api_key\n//     }})\n//     .then((response) => {\n//         if (!response.ok) {\n//             throw new Error(resp.statusaText)\n//         }\n//         // console.log(response);\n//         return response.json();\n//     })\n// .then((data) => {\n//    //filter to only include those with an `image` object\n//     data = data.filter(img => img.image?.url!=null)\n// //    console.log(data)\n//     storedBreeds = data;\n//     console.log(storedBreeds);\n//     for (let i = 0; i < storedBreeds.length; i++) {\n//     const breed = storedBreeds[i];\n//     let option = document.createElement('option'); \n//      //skip any breeds that don't have an image\n//     if(!breed.image)continue\n//     //use the current array index\n//     option.value = i;\n//     option.innerHTML = `${breed.name}`;\n//     select.appendChild(option);\n//     }\n// //    show the first breed by default\n// //    console.log(showBreedImage())\n//     console.dir(select)\n// })\n// .catch(function(error) {\n// //    console.log(error);\n// });\n\n// function showBreedImage(index) {\n//     document.getElementById(\"#breed_image\").src = storedBreeds[index].image.url\n//     document.getElementById(\"#breed_json\").textContent = storedBreeds[index].temperament\n\n// }\n// ++++++++++++++","const loaderImg = 'url(https://papik.pro/grafic/uploads/posts/2023-04/1682206914_papik-pro-p-stikeri-rizhii-kot-vektor-26.png)';\n\nimport './style.css';\n\nimport { fetchBreeds } from \"./cat-api\";\n\nconst errorItem = document.querySelector('.error');\nerrorItem.textContent = '';\nerrorItem.style.display = 'none';\nconst loaderItem = document.querySelector('.loader');\n\nconst catInfo = document.querySelector('.cat-info');\nconst select = document.querySelector('.breed-select');\nselect.addEventListener('change', fetchCatByBreed);\nselect.style.visibility = 'hidden';\n\nlet storedBreeds = [];\n\nfetchBreeds()\n    .then((data) => {\n        data = data.filter(img => img.image?.url != null)\n        storedBreeds = data;\n    \n        for (let i = 0; i < storedBreeds.length; i++) {\n            const breed = storedBreeds[i];\n            let option = document.createElement('option');\n            \n            if (!breed.image) continue\n            option.value = breed.id;\n            option.innerHTML = `${breed.name}`;\n            select.appendChild(option);\n        };\n    })\n    .catch((error) => console.log(error)); \n        \nconst api_key = `live_CIw3lZRkcpgh759C9YBXivIvAETipzFqRyXtOHa4sXukf5xIGdNG9JZOQ72DPlKH`\n\nfunction fetchCatByBreed() {\n    let breedId = select.value\n    \n    const url = \"https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}\"\n    \n    return fetch(url, {\n        headers: {\n            'x-api-key': api_key\n        }\n    })\n        .then((response) => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            } \n            return response.json();\n        })\n        .then((data) => {\n            let id = select.selectedIndex\n            data = storedBreeds[id];\n        \n            return renderBreeds();\n        })\n        .catch((error) => errorMessage());\n};\n\nfunction renderBreeds() { \n    let id = select.selectedIndex;\n\n    if (storedBreeds.length > 1) {\n        catInfo.innerHTML = '';\n    }\n    const image = document.createElement('img');\n    const title = document.createElement('h2');\n    const description = document.createElement('p');\n    const temperament = document.createElement('h3');\n\n    image.style.display = 'block';\n    image.src = `${storedBreeds[id].image.url}`;\n    image.style.width = `${700}px`;\n    image.style.height = `${600}px`;\n    image.style.backgroundSize = 'cover';\n\n    title.textContent = `${storedBreeds[id].name}`;\n    title.style.fontSize = `${38}px`;\n    title.style.marginBottom = 0;\n    title.style.backgroundColor = 'rgb(255, 255, 255)';\n\n    description.textContent = `${storedBreeds[id].description}`;\n    description.style.fontSize = `${24}px`;\n    \n    temperament.textContent = `Temperament: ${storedBreeds[id].temperament}`;\n    temperament.style.fontSize = `${28}px`;\n    temperament.style.marginTop = 0;\n\n    catInfo.append(image, title, description, temperament);\n};\n\nfunction onLoader() {\n\n    select.style.visibility = 'visible';\n   \n    fetchCatByBreed();\n};\n\nonLoader()\n\nfunction errorMessage() {\n\n    loaderItem.style.display = 'none';\n    loaderItem.textContent = '';\n    errorItem.textContent = 'Oops! Something went wrong! Try reloading the page!';\n    errorItem.style.display = 'block';\n\n};\n// // errorMessage()\n\n\n// const errorItem = document.querySelector('.error')\n// errorItem.textContent = '';\n// errorItem.style.visibility = 'hidden';\n// console.dir(errorItem);\n\n\n\n\n// catInfo.innerHTML +=`<img src=\"${image.src}\" alt=\"\"><h2>${title.textContent}</h2><p>${description.textContent}</p><h3>${temperament.textContent}</h3>`\n\n\n// const boxUrl = document.createElement('div')\n// errorItem.after(boxUrl);\n// boxUrl.style.display = 'block';\n// boxUrl.style.width = `${700}px`;\n// boxUrl.style.height = `${700}px`;\n// boxUrl.style.backgroundImage = 'url(https://t3.ftcdn.net/jpg/00/61/67/86/240_F_61678606_bNPFDZsyh2tG7Lxjm5Jd0Xd7QMeumObE.jpg)'\n// boxUrl.style.backgroundRepeat = 'no-repeat';\n\n// errorItem.style.display = 'none';\n    // errorItem.textContent = '';\n    // loaderItem.textContent = 'Loading data, please wait...';\n    // loaderItem.style.display = 'block'\n    // loaderItem.classList.replace('error', 'loader');\n    "],"names":["document","querySelector","$3015b282b063971c$var$errorItem","textContent","style","display","$3015b282b063971c$var$loaderItem","$3015b282b063971c$var$catInfo","$3015b282b063971c$var$select","addEventListener","$3015b282b063971c$var$fetchCatByBreed","visibility","$3015b282b063971c$var$storedBreeds","fetch","headers","then","response","ok","Error","status","json","data","filter","img","ref","image","url","i","length","breed","option","createElement","value","id","innerHTML","concat","name","appendChild","catch","error","console","log","selectedIndex","title","description","temperament","src","width","height","backgroundSize","fontSize","marginBottom","backgroundColor","marginTop","append","$3015b282b063971c$var$renderBreeds"],"version":3,"file":"index.732eb3e9.js.map"}